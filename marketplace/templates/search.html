{% extends "base_site.html" %}

{% block content %}
    <center>
        <h1>Search Page</h1>
        {% if q %}
            {% if collections_filter or nfts_filter or creator_filter %}
                <p>Keyword: "{{q}}"</p><br>
                {% if collections_filter %}
                    <h3>Collections</h3>
                    {% for collection in collections_filter %}
                        <div>
                        <a href="{{collection.get_url}}">{{collection.collection_name}}</a>
                        </div>
                    {% endfor %}
                {% endif %}
                {% if nfts_filter %}
                    <h3>NFTs</h3>
                    {% for nft in nfts_filter %}
                        {% if not nft.nft_name %}
                            <a href="{{nft.get_url}}">#{{nft.nft_id}}</a><br>
                        {% else %}
                            <a href="{{nft.get_url}}">{{nft.nft_name}} #{{nft.nft_id}}</a><br>
                        {% endif %}
                        Token Standard: {{nft.nft_standard}} ({{nft.nft_blockchain}})<br>
                        Collection: {{nft.collection_name}} <br>
                    {% endfor %}
                {% endif %}
                {% if creator_filter %}
                    <h3>Creators</h3>
                    {% for creator in creator_filter %}
                        <div>
                            {{creator.creator_nickname}}
                        </div>
                    {% endfor %}
                {% endif %} 
            {% else %}
                <p>Keyword: "{{q}}" returned no results.</p>
            {% endif %} 
        {% endif %}
    </center>
    
{% endblock %}